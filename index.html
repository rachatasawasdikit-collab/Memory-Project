<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>The Friend Project</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body{margin:0;background:#030305;color:#e6e6e6;font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;}
  .bg-canvas{position:fixed;inset:0;z-index:0;opacity:0.12;filter:blur(2px);}
  .card{z-index:2;backdrop-filter:blur(2px);border:1px solid rgba(255,0,0,0.12);transition:opacity .25s ease;}
  .title{letter-spacing:2px;text-shadow:0 0 16px rgba(255,0,0,0.12);}
  .neon{box-shadow:0 6px 24px rgba(255,0,0,0.12),inset 0 0 32px rgba(255,0,0,0.02);}
  .overlay{position:fixed;inset:0;z-index:9999;pointer-events:none;opacity:0;transition:.25s}
  .overlay.show{opacity:1;pointer-events:auto;}
  #user{-webkit-text-security:disc!important;text-security:disc!important;}
  input[type="text"],input[type="password"]{background:#060607;border:1px solid rgba(0,255,140,0.08);color:#bfffbf;padding:12px;border-radius:8px;width:100%;outline:none;}
  #darkGlow{position:fixed;inset:0;z-index:1;pointer-events:none;background:
    radial-gradient(650px 650px at 50% 60%,rgba(0,255,160,.13),transparent 70%),
    radial-gradient(350px 350px at 20% 20%,rgba(255,0,90,0.08),transparent 75%),
    radial-gradient(260px 260px at 80% 25%,rgba(0,140,255,0.05),transparent 75%);
    mix-blend-mode:screen;animation:darkPulse 7s ease-in-out infinite alternate;filter:blur(6px);}
  @keyframes darkPulse{0%{opacity:0.16}100%{opacity:0.28}}

  /* HOLOGRAM */
  #holoStatus{position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none;opacity:0;transition:.35s;z-index:10000;mix-blend-mode:screen;}
  #holoStatus.show{opacity:1;}
  #holoStatus .main{font:800 54px ui-monospace,monospace;letter-spacing:.3em;text-transform:uppercase;animation:hPulse 1.8s ease-in-out infinite alternate;}
  #holoStatus .sub{font:700 22px ui-monospace,monospace;letter-spacing:.25em;text-transform:uppercase;margin-top:12px;opacity:.9;}
  #holoStatus.success .main,#holoStatus.success .sub{color:#00ff9e;text-shadow:0 0 12px #00ff9e,0 0 32px rgba(0,255,160,.45);}
  #holoStatus.fail .main,#holoStatus.fail .sub{color:#ff4d6d;text-shadow:0 0 12px #ff4d6d,0 0 32px rgba(255,77,109,.45);}
  @keyframes hPulse{0%{transform:scale(1);opacity:.85}100%{transform:scale(1.1);opacity:1}}

  /* INTRO (ตอนเข้าเว็บครั้งแรก) */
  #epicIntro{position:fixed;inset:0;z-index:9000;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.8);pointer-events:none;opacity:0;transition:.45s}
  #epicIntro.show{opacity:1;pointer-events:auto;}
  .introWrap{position:relative;background:rgba(0,0,0,.35);padding:28px 24px;border-radius:12px;text-align:center;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08);}
  .introBrand{color:#e6fff7;font:900 38px ui-monospace,monospace;letter-spacing:.22em;text-transform:uppercase;margin-bottom:10px;text-shadow:0 0 18px rgba(0,255,160,.35);}
  .brandAccent{color:#00ff9e;text-shadow:0 0 12px rgba(0,255,160,.75);}
  #introTag{font:600 12px ui-monospace,monospace;letter-spacing:.35em;color:#9fe9ff;margin-bottom:10px;opacity:.85}
  #introBar{height:12px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden;margin-top:10px;box-shadow:inset 0 0 10px rgba(0,0,0,.4);}
  #introBar .fill{height:100%;width:0%;background:linear-gradient(90deg,#00ff9e,#00a6ff);transition:.12s;box-shadow:0 0 20px rgba(0,255,160,.45);}
  .introPct{display:flex;justify-content:space-between;color:#d8fff0;font:600 12px ui-monospace,monospace;margin-top:8px;}
  .scanline{position:absolute;left:0;right:0;top:0;height:0;box-shadow:0 0 22px rgba(0,255,160,.6);border-top:2px solid rgba(0,255,160,.85);opacity:.9;animation:scan 2.2s ease-in-out infinite;}
  @keyframes scan{0%{top:0}50%{top:calc(100% - 2px)}100%{top:0}}
  .glowRing{position:absolute;inset:-24px;border-radius:14px;box-shadow:0 0 40px rgba(0,255,160,.25), inset 0 0 40px rgba(0,166,255,.18);pointer-events:none}
  #matrixCanvas{position:fixed;inset:0;z-index:8500;opacity:.65;pointer-events:none;mix-blend-mode:screen}
  #particleCanvas{position:fixed;inset:0;z-index:8400;opacity:.5;pointer-events:none;mix-blend-mode:screen}

  /* POST-LOGIN LOADER (ใหม่) */
  #postLogin{position:fixed;inset:0;z-index:11000;background:rgba(0,0,0,.82);display:none;align-items:center;justify-content:center;}
  #postLogin.show{display:flex;}
  .postWrap{background:rgba(0,0,0,.35);padding:28px 24px;border-radius:12px;text-align:center;backdrop-filter:blur(8px);border:1px solid rgba(255,255,255,.08);width:min(520px,94vw)}
  .postBrand{color:#e6fff7;font:900 30px ui-monospace,monospace;letter-spacing:.22em;text-transform:uppercase;text-shadow:0 0 18px rgba(0,255,160,.35);}
  .postSub{margin-top:6px;font:700 14px ui-monospace,monospace;letter-spacing:.28em;color:#9fe9ff}
  #postBar{height:12px;border-radius:999px;background:rgba(255,255,255,.12);overflow:hidden;margin-top:14px;box-shadow:inset 0 0 10px rgba(0,0,0,.4);}
  #postBar .fill{height:100%;width:0%;background:linear-gradient(90deg,#00ff9e,#00a6ff);transition:.1s;box-shadow:0 0 20px rgba(0,255,160,.45);}
  .postPct{display:flex;justify-content:space-between;color:#d8fff0;font:600 12px ui-monospace,monospace;margin-top:8px;}
</style>
</head>
<body>
<canvas id="bgCanvas" class="bg-canvas"></canvas>
<div id="darkGlow"></div>

<div class="min-h-screen flex items-center justify-center">
  <div class="card neon p-8 rounded-lg w-96" id="loginCard" style="background:linear-gradient(180deg,#060607,#05050A);">
    <div class="title text-red-400 font-bold text-2xl text-center">The Friend Project</div>
    <label class="muted mt-4">USER</label>
    <input id="user" type="text" autocomplete="off" placeholder="Enter USER" />
    <label class="muted mt-3">PASS</label>
    <input id="pass" type="password" autocomplete="new-password" placeholder="••••••••" />
    <button id="loginBtn" class="w-full p-3 bg-red-600 hover:bg-red-700 rounded text-white font-bold mt-5">ENTER</button>
  </div>
</div>

<div id="overlay" class="overlay no-select"></div>
<div id="holoStatus"><div class="main"></div><div class="sub"></div></div>

<!-- intro loader -->
<canvas id="matrixCanvas"></canvas>
<canvas id="particleCanvas"></canvas>
<div id="epicIntro">
  <div class="introWrap">
    <div class="scanline"></div><div class="glowRing"></div>
    <div class="introBrand"><span class="brandAccent">THE FRIEND PROJECT</span></div>
    <div id="introTag">SYSTEM INIT • HOLOGRAPHIC BOOT</div>
    <div id="introBar"><div class="fill"></div></div>
    <div class="introPct"><span id="introL">0%</span><span id="introR">0%</span></div>
  </div>
</div>

<!-- post-login loader -->
<div id="postLogin">
  <div class="postWrap">
    <div class="postBrand">ACCESS GRANTED</div>
    <div class="postSub">PROCESS COMPEAT</div>
    <div id="postBar"><div class="fill"></div></div>
    <div class="postPct"><span id="postL">0%</span><span id="postR">0%</span></div>
  </div>
</div>

<script>
/* ====== CONFIG ====== */
const CORRECT_USER = "ipconfig";
const CORRECT_PASS = "Jaonai55";
const DRIVE_URL = "https://drive.google.com/drive/folders/1DY_amVbYBjS6o5bRzWiXmrgAeYgjlhWZ?usp=sharing";

/* ====== HOLOGRAM ====== */
function showOverlay(k){
  const o=document.getElementById('overlay');
  o.className='overlay show ' + (k==='ok'?'success':'fail');
  setTimeout(()=>o.classList.remove('show'),1000); // ให้สั้น เพื่อไม่ชน post-login
}
(function(){
  const o=document.getElementById('overlay');
  const h=document.getElementById('holoStatus');
  const main=h.querySelector('.main');
  const sub=h.querySelector('.sub');
  new MutationObserver(()=>{
    if(o.classList.contains('show')){
      if(o.classList.contains('success')){
        h.className="success show"; main.textContent="ACCESS GRANTED"; sub.textContent="PROCESS COMPEAT";
      } else {
        h.className="fail show"; main.textContent="ACCESS DENIED"; sub.textContent="FAIL";
      }
      setTimeout(()=>h.classList.remove('show'),1000);
    }
  }).observe(o,{attributes:true});
})();

/* ====== Redirect กันพัง ====== */
function robustRedirect(url){
  try{window.location.assign(url);}catch(e){}
  setTimeout(()=>{try{window.location.replace(url);}catch(e){}},150);
  setTimeout(()=>{try{window.location.href=url;}catch(e){}},300);
  setTimeout(()=>{try{window.open(url,"_self");}catch(e){}},600);
}

/* ====== Post-login Loader ====== */
function showPostLoginLoaderThenGo(){
  const wrap = document.getElementById('postLogin');
  const card = document.getElementById('loginCard');
  const fill = document.querySelector('#postBar .fill');
  const L = document.getElementById('postL');
  const R = document.getElementById('postR');

  // โชว์หน้าโหลดชัวร์ ๆ
  wrap.classList.add('show');
  card.style.opacity = 0; // ซ่อนการ์ดล็อกอิน

  let cur = 0, target = 100;
  function tick(){
    cur = Math.min(cur + 4, target); // เร็วกำลังดี
    fill.style.width = cur + '%';
    L.textContent = R.textContent = cur + '%';
    if(cur < 100){ requestAnimationFrame(tick); }
    else{ setTimeout(()=>robustRedirect(DRIVE_URL), 200); }
  }
  requestAnimationFrame(tick);
}

/* ====== LOGIN ====== */
function doLogin(){
  const u=document.getElementById('user').value.trim().replace(/\*/g,'');
  const p=document.getElementById('pass').value;

  if(u===CORRECT_USER && p===CORRECT_PASS){
    showOverlay('ok'); // แสดง ACCESS GRANTED / PROCESS COMPEAT
    // โชว์หน้าโหลดหลังล็อกอินทันที (รอ 200ms ให้ overlay วิบวับก่อน)
    setTimeout(showPostLoginLoaderThenGo, 200);
  } else {
    showOverlay('fail');
  }
}
document.getElementById('loginBtn').addEventListener('click', doLogin);
['user','pass'].forEach(id=>{
  document.getElementById(id).addEventListener('keydown', e=>{
    if(e.key==='Enter') doLogin();
  });
});

/* ====== INTRO (ตอนเข้าเว็บครั้งแรก) ====== */
(function(){
  const intro=document.getElementById('epicIntro');
  const fill=intro.querySelector('.fill');
  const L=intro.querySelector('#introL');
  const R=intro.querySelector('#introR');
  const mc=document.getElementById('matrixCanvas'),mctx=mc.getContext('2d');
  const pc=document.getElementById('particleCanvas'),pctx=pc.getContext('2d');

  function resize(){mc.width=innerWidth;mc.height=innerHeight;pc.width=innerWidth;pc.height=innerHeight;}
  addEventListener('resize',resize);resize();

  const chars='ｱｶｻﾀﾅﾊﾏﾔﾗﾜ0123456789ABCDEF';
  const fontSize=16;const columns=()=>Math.ceil(mc.width/fontSize);
  let drops=new Array(columns()).fill(1);

  function drawMatrix(){
    mctx.fillStyle='rgba(0,0,0,0.08)';mctx.fillRect(0,0,mc.width,mc.height);
    mctx.fillStyle='#00ff9e';mctx.font=fontSize+'px monospace';
    for(let i=0;i<drops.length;i++){
      const text=chars[Math.floor(Math.random()*chars.length)];
      mctx.fillText(text,i*fontSize,drops[i]*fontSize);
      if(drops[i]*fontSize>mc.height&&Math.random()>0.975){drops[i]=0;}
      drops[i]++;
    }
  }

  const particles=Array.from({length:80}).map(()=>({x:Math.random()*pc.width,y:Math.random()*pc.height,vx:(Math.random()-0.5)*0.6,vy:(Math.random()-0.5)*0.6,r:Math.random()*2+0.6}));
  function drawParticles(){
    pctx.clearRect(0,0,pc.width,pc.height);
    for(const pt of particles){
      pt.x+=pt.vx;pt.y+=pt.vy;
      if(pt.x<0||pt.x>pc.width)pt.vx*=-1;
      if(pt.y<0||pt.y>pc.height)pt.vy*=-1;
      pctx.beginPath();pctx.arc(pt.x,pt.y,pt.r,0,Math.PI*2);pctx.fillStyle='rgba(0,166,255,.6)';pctx.fill();
      pctx.beginPath();pctx.arc(pt.x,pt.y,pt.r*2.2,0,Math.PI*2);pctx.fillStyle='rgba(0,255,160,.15)';pctx.fill();
    }
  }

  let cur=0,target=100;
  function tick(){
    cur=Math.min(cur+2,target);
    fill.style.width=cur+'%';L.innerText=R.innerText=cur+'%';
    drawMatrix();drawParticles();
    if(cur<100)requestAnimationFrame(tick);
    else{setTimeout(()=>intro.classList.remove('show'),420);setTimeout(()=>{mc.style.opacity='0';pc.style.opacity='0';},400);}
  }

  window.addEventListener('load',()=>{intro.classList.add('show');drops=new Array(columns()).fill(1);requestAnimationFrame(tick);});
})();
</script>
</body>
</html>
